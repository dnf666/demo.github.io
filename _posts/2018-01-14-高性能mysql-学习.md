---
layout:     post
title:      高性能mysql
subtitle:   mysql
date:       2018-01-14
author:     戴林甫
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - mysql
    - 高性能
---

## 1.1 mysql逻辑架构

![image](https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1515920441646&di=28b6f12f4b8c457fed3d4ffff4996c0e&imgtype=0&src=http%3A%2F%2Fimages.cnitblog.com%2Fi%2F610272%2F201403%2F181504216774184.jpg)

## 1.2 mysql的并发控制
    mysql并发控制主要在两个层面，服务器层和存储引擎层面
###1.2.1读写锁
    解决并发控制的经典做法是：通过共享锁（读锁）和排他锁（写锁），写锁会阻塞其他的写锁和读锁
###1.2.2锁粒度    
    锁的策略就是在安全性和锁的开销之间的平衡性。锁的开销主要有获得锁、检查锁、释放锁，锁的粒度的问题
    
    mysql提供两种粒度的锁：表锁，行级锁
    
    表锁 ：锁住整张表，开销最小，并发处理程度低。服务器和存储引擎都实现
    行级锁：锁住行，开销最大，并发处理程度最高。只实现存储引擎
    
    

